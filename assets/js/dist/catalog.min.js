function initCatalog(e){if(!e)throw"el is not a HTMLElement";for(var t,n=[],l=e.querySelectorAll?e.querySelectorAll("h1, h2, h3, h4, h5, h6"):e.children,o=0;o<l.length;o++){1===l[o].nodeType&&/H\d/i.test(l[o].nodeName)&&(t=l[o].getAttribute("name"),n.push({tag:l[o].nodeName.toLowerCase(),text:l[o].innerText,name:t,el:l[o]}))}if(n.length<=0)return[];for(var a=[],i=n[0].tag,c="",r=[],o=0;o<n.length;o++){var d={$1th:{},$2th:[]};if(n[o].tag!==c){if(n[o].tag===i){for(var s=o+1;s<n.length;s++)if(n[s].tag>i){c=n[s].tag;break}d.$1th=n[o],n[o].el.classList.add("catalog-title"),n[o].el.classList.add("ct-level1"),r=[],d.$2th=r,a.push(d)}}else r.push(n[o]),n[o].el.classList.add("catalog-title"),n[o].el.classList.add("ct-level2")}return a}function generateCatalogList(e,t){var n=document.createElement(e);return n.classList.add("catalog-item"),n.innerHTML=t,n}document.addEventListener("DOMContentLoaded",function(){if(!(document.body.clientWidth<=1200)){var e=document.getElementsByClassName("post-content")&&document.getElementsByClassName("post-content")[0],t=document.getElementById("headering");if(e){var n=initCatalog(e);if(0!==n.length){var l=document.getElementById("header");if(l){var o=document.createElement("ol");o.id="catalog",l.appendChild(o);for(var a=[],i=0,c=n.length;i<c;i++)!function(e){var t=generateCatalogList("li",n[e].$1th.el.innerText);t.onclick=function(){n[e].$1th.el.scrollIntoView({behavior:"smooth"})},o.appendChild(t),a.push({el:t,title:n[e].$1th.el})}(i);document.addEventListener("scroll",function(){requestAnimationFrame(function(){!function(){for(var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.clientHeight||document.body.clientHeight,n=document.documentElement.scrollHeight||document.body.scrollHeight,l=0,o=a.length;l<o;l++)e>=a[l].title.offsetTop-10||e+t===n?a[l].el.classList.add("catalog-item-active"):a[l].el.classList.remove("catalog-item-active")}(),0===document.documentElement.scrollTop?t&&t.scrollIntoView({behavior:"smooth"}):o.scrollIntoView({behavior:"instant"})})})}}}}});